---
const testimonals = [
  {
    text: "Absolut grandios!! Stromausfall nach 18 Uhr und innerhalb von 40 Minuten war alles wieder gerichtet, so einen schnellen und guten Service findet man heute kaum noch. Ich bin sehr dankbar f√ºr diesen tollen Service, auch die Nacharbeiten wurden p√ºnktlich, schnell und korrekt durchgef√ºhrt. Ich f√ºhle mich hier bestens beraten und aufgehoben und es ist hier wirklich jeden Euro wert! Eine absolute klare Empfehlung, sch√∂n dass es sowas noch gibt, vielen Dank!!",
    author: "Caroline Veenstra",
    rating: 5,
  },
  {
    text: "Wir haben sehr kurzfristig einen Termin (am gleichen Tag noch) bekommen, der zuverl√§ssig eingehalten wurde. Alles war schnell und sehr ordentlich erledigt. Jederzeit wieder gerne!",
    author: "vonhierausweiter",
    rating: 5,
  },
  {
    text: "Unsere elekt. Markise musste angeschlossen werden. Firma Hubatsch kam sehr schnell. nette Mitarbeiter, sehr sauber und schnell gearbeitet. Wir k√∂nnen diese Firma nur empfehlen.",
    author: "Evelyn Gardemann",
    rating: 5,
  },
  {
    text: "Super Firma: waren weit und breit die einzigen, die uns einen Baustromverteiler stellen konnten. Beratung und Termine auch nach Feierabend m√∂glich, selbstst√§ndiges Pr√ºfen des Baustromverteilers und transparente Abrechnung geh√∂rten alles dazu.",
    author: "Bastian Conze",
    rating: 5,
  },
  {
    text: "Pl√∂tzlich war das halbe Haus ohne Strom. Hr. Hubatsch kam noch spontan vorbei, 18 Uhr hatte ich angerufen, und hat uns innerhalb von 30 Minuten den Hals gerettet. Vielen Dank nochmals.üëç",
    author: "Dirk Grundmann",
    rating: 5,
  },
];
---

<div class="overflow-hidden w-full embla z-10 isolate">
  <div class="flex w-full grow items-start">
    {
      testimonals.map((t) => (
        <div class="w-full shrink-0 cursor-grab rounded-md bg-black  p-4 opacity-50 transition-colors duration-300 ease-in-out md:w-1/2 lg:w-1/3  [&.is-snap]:opacity-100 [&:not(.is-snap)]:hover:opacity-70">
          <p class="text-center text-sm tracking-wide text-white md:text-base">
            {t.text}
          </p>
          <p class="mt-3 text-center font-bold text-white">- {t.author}</p>
        </div>
      ))
    }
  </div>
</div>

<script>
  import Embla from "embla-carousel";
  import SnapClass from "embla-carousel-snap-class";
  import Autoplay from "embla-carousel-autoplay";

  const emblaContainer = document.querySelector<HTMLElement>(".embla");

  if (emblaContainer) {
    const embla = Embla(
      emblaContainer,
      {
        loop: true,
      },
      [SnapClass(), Autoplay()]
    );

    embla.slideNodes().forEach((slide, idx) => {
      slide.addEventListener("click", () => embla.scrollTo(idx), {
        passive: true,
      });
    });
  }
</script>
